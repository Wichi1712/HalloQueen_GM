<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
velocidad = 0;
valorEnemigo = 0;
//posInicial = irandom_range(-60,-200);//-60;
image_speed = 0.1;
balaEnemigo = o_balaEnemigo;
dir = 0;

/*
imagenEnemigo = irandom(2)

if ( imagenEnemigo == 0){
    sprite_index = spr_murcielago;
}else
if ( imagenEnemigo == 1){
    sprite_index = spr_brujitaNegra;
}


if (sprite_index == spr_murcielago){
    velocidad = 1;
}else
if (sprite_index == spr_brujitaNegra){
    velocidad = 2;
}
*/


imagenEnemigo = irandom_range(0, o_control.nivelJuego);

switch (imagenEnemigo)
{
    //case 0:
        //sprite_index = spr_murcielago;
        //velocidad = 1;
        //valorEnemigo = 10;
    //break;
    
    case 1:
        sprite_index = spr_murcielago;
        velocidad = 1;
        valorEnemigo = 10;
        if x &lt; o_brujita.x dir = 0.4;
        if x &gt; o_brujita.x dir = -0.4;
        balaEnemigo = o_eco;
    break;
    
    case 2:
        sprite_index = spr_brujitaNegra;
        velocidad = 2;
        valorEnemigo = 25;
        balaEnemigo = o_calabazaEnemigo;
    break;
    
    case 3:
        sprite_index = spr_fantasma;
        velocidad = 3;
        valorEnemigo = 35
    break;
    
    case 4:
        sprite_index = spr_calavera;
        velocidad = 1;
        valorEnemigo = 40;
        //if x &lt; o_brujita.x dir = 0.4;
        //if x &gt; o_brujita.x dir = -0.4;
        balaEnemigo = o_huesos;
    break;
    
    case 5:
        sprite_index = spr_gatito;
        velocidad = 1;
        valorEnemigo = 50;
    break;
    
    //default:
        //sprite_index = spr_murcielago;
        //velocidad = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Control de disparo
//TEST

switch ( sprite_index)
{
    case spr_murcielago:
        if y &gt; 0 x +=dir;
        
        ranDisparo = irandom(20);
        //balaEnemigo = o_eco;
        if ranDisparo == 1 instance_create(x, y + 25, balaEnemigo);
        balaEnemigo.velocidad = velocidad;    
    break;
    
    case spr_brujitaNegra:
        //if y &gt; 0 x +=dir;
        
        ranDisparo = irandom(50);
        //balaEnemigo = o_calabazaEnemigo;
        if ranDisparo == 1 instance_create(x, y + 25, balaEnemigo);
        //Controla la velocidad de su propia bala
        balaEnemigo.velocidad = velocidad + 2;
    break;
    
    case spr_fantasma:
        //if x &lt; o_brujita.x dir = 0.4;
        //if x &gt; o_brujita.x dir = -0.4;
        
        //move_towards_point( o_brujita.x, o_brujita.y, 1);
        mp_potential_step_object(o_brujita.x, o_brujita.y,1, o_brujita);
    
    break;
    
    case spr_calavera:
        //if y &gt; 0 x +=dir;
        
        ranDisparo = irandom(40);
        if ranDisparo == 1 instance_create(x, y + 25, balaEnemigo);
        balaEnemigo.velocidad = velocidad + 2;
        //balaEnemigo.x += dir;
    break;
    
    case spr_gatito:
        if (distance_to_object( o_brujita) &lt; 100){
            //x +=dir;
            //if x &gt; o_brujita.x dir = -0.4;
        
        
            //move_towards_point( o_brujita.x, o_brujita.y, 1);
            //mp_potential_step_object(o_brujita.x, o_brujita.y,1, o_brujita);
            mp_linear_step(o_brujita.x, o_brujita.y, 1, 0);
            image_angle += 7;
        }
    break;
    
}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///velocidad y reposicionamiento
y +=velocidad;

//Reposiciona
randomize();
posY = irandom_range(-60,-200);
posX = irandom_range(30, room_width-30);

if (y &gt;= room_height + 60){
    y = posY;
    x = posX;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_calabaza">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reposiona y muestra puntaje
/*
Es necesario mostrar el puntaje primero antes de reposionar
al enemigo, ya que de lo contrario se mostraria fuera de
la ventana de juego.
*/

//Texto flotante
var pts = instance_create(x,y, o_texto);

//crea o_textoFlotante y le asigna un valor
pts.txt = string( valorEnemigo);

//Vuelve  a su posicion inicial
y = posY;
x = posX;

//Destruimos la calabaza
with(other) instance_destroy();

//Resta un enemigo
//o_control.numeroEnemigos--;

//Aumenta contador de enemigos
o_control.contadorEnemigos++;

//Aumenta score
score += valorEnemigo;


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,16</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
